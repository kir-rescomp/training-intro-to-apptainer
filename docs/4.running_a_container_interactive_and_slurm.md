# 4. Running a container, both interactively ( only the `shell` or `inspect` ) and via Slurm

!!! circle-info ""

     * To have a look at the contents of your container, you can "shell" into it using `apptainer shell containername` . 
        ```bash
        apptainer shell trimmomatic_0.40.aif
        ```
        **Note** - Above shell command will enter the shell within the container image. Note the prompt is now prefixed with "Apptainer",
        ```bash
        Apptainer>
        ```
        Exit the container by running the command `exit` which will bring you back to the **host** system 
        ```bash
        Apptainer> exit
        ```

    * To view metadata and configuration details about an Apptainer container image, use `apptainer inspect containername` 
        ```bash
        apptainer inspect trimmomatic_0.40.aif
        ```
    * `apptainer exec` command 

        - The `apptainer exec` command allows you to run a specific command inside an Apptainer container, making it ideal for executing scripts, tools, or workflows within the container’s environment. For example, you can run a Python script or query the container’s filesystem without entering an interactive shell. Let't say you have a python script ( let's call it *my_tensorflow.py*) using Tensorflow libraries  with a help menu and assuming you have Tensorflow container with all required libraries 

        ```bash
        apptainer exec trimmomatic_0.40.aimg trimmomatic --help
        ```
    * The apptainer `run` command, on the other hand, is designed to execute the default process defined in the container (such as its runscript), providing a convenient way to start the container’s main application or service as intended by its creator. This is commonly used when you want to use the container as a standalone executable.

    **Slurm template** 

    ```bash
    #!/bin/bash -e

    #SBATCH --job-name=trimmomatic-via-apptainer
    #SBATCH --time=00:10:00
    #SBATCH --mem=4G
    #SBATCH --cpus-per-task=4

    # Run container %runscript
    apptainer exec trimmomatic_0.40.aimg trimmomatic --help some_argument
    ```